import{ar as s,as as a,I as n,C as z}from"./index.f77abd2b.js";import{d as N,f as I}from"./downloadPdf.508fda78.js";const M="/desarrollada";var R={async obtenerDesarrolladas(t,r){try{let e=await s.get(M+`/${t}`,a.headers());return r?r(e):e}catch(e){return console.log(e),r?r(n.obtenerMensajeError(e)):n.obtenerMensajeError(e)}},async eliminarDesarrollada(t,r){try{let e=await s.delete(M+`/${t}`,a.headers());return r?r(e):e}catch(e){return console.log(e),r?r(n.obtenerMensajeError(e)):n.obtenerMensajeError(e)}},async editarDesarrollada(t,r,e){try{let o=await s.put(M+`/${t}`,{actividadDesarrollada:r},a.headers());return e?e(o):o}catch(o){return console.log(o),e?e(n.obtenerMensajeError(o)):n.obtenerMensajeError(o)}},async crearDesarrollada(t,r){try{let e=await s.post(M,{actividadDesarrollada:t},a.headers());return r?r(e):e}catch(e){return console.log(e),r?r(n.obtenerMensajeError(e)):n.obtenerMensajeError(e)}}};const m="/evidencia";var q={async obtenerEvidencias(t,r){try{let e=await s.get(m+`/${t}`,a.headers());return r?r(e):e}catch(e){return console.log(e),r?r(n.obtenerMensajeError(e)):n.obtenerMensajeError(e)}},async eliminarEvidencia(t,r){try{let e=await s.delete(m+`/${t}`,a.headers());return r?r(e):e}catch(e){return console.log(e),r?r(n.obtenerMensajeError(e)):n.obtenerMensajeError(e)}},async editarEvidencia(t,r,e){try{let o=await s.put(m+`/${t}`,{evidencia:r},a.headers());return e?e(o):o}catch(o){return console.log(o),e?e(n.obtenerMensajeError(o)):n.obtenerMensajeError(o)}},async crearEvidencia(t,r){try{let e=await s.post(m,{evidencia:t},a.headers());return r?r(e):e}catch(e){return console.log(e),r?r(n.obtenerMensajeError(e)):n.obtenerMensajeError(e)}}};const v="/observacion";var G={async obtenerObservaciones(t,r){try{let e=await s.get(v+`/${t}`,a.headers());return r?r(e):e}catch(e){return console.log(e),r?r(n.obtenerMensajeError(e)):n.obtenerMensajeError(e)}},async eliminarObservacion(t,r){try{let e=await s.delete(v+`/${t}`,a.headers());return r?r(e):e}catch(e){return console.log(e),r?r(n.obtenerMensajeError(e)):n.obtenerMensajeError(e)}},async editarObservacion(t,r,e){try{let o=await s.put(v+`/${t}`,{observacion:r},a.headers());return e?e(o):o}catch(o){return console.log(o),e?e(n.obtenerMensajeError(o)):n.obtenerMensajeError(o)}},async crearObservacion(t,r){try{let e=await s.post(v,{observacion:t},a.headers());return r?r(e):e}catch(e){return console.log(e),r?r(n.obtenerMensajeError(e)):n.obtenerMensajeError(e)}}};const C="/informe";var J={async obtenerInformePeriodo(t,r){try{let e=await s.get(C+`/${t}`,a.headers());return r?r(e):e}catch(e){return r?r(n.obtenerMensajeError(e)):n.obtenerMensajeError(e)}},async obtenerTodosInformes(t){try{let r=await s.get(C,a.headers());return t?t(r):r}catch(r){return console.log(r),t?t(n.obtenerMensajeError(r)):n.obtenerMensajeError(r)}},async asignarFormato(t,r,e){try{let o=await s.post(C+`/${t}/${r}`,{},a.headers());return e?e(o):o}catch(o){return console.log(o),e?e(n.obtenerMensajeError(o)):n.obtenerMensajeError(o)}}};const w="/conclusionrecomendacion";var K={async obtenerPorInforme(t,r){try{let e=await s.get(w+`/${t}`,a.headers());return r?r(e):e}catch(e){return console.log(e),r?r(n.obtenerMensajeError(e)):n.obtenerMensajeError(e)}},async crear(t,r){try{let e=await s.post(w,t,a.headers());return r?r(e):e}catch(e){return console.log(e),r?r(n.obtenerMensajeError(e)):n.obtenerMensajeError(e)}},async eliminar(t,r){try{let e=await s.delete(w+`/${t}`,a.headers());return r?r(e):e}catch(e){return console.log(e),r?r(n.obtenerMensajeError(e)):n.obtenerMensajeError(e)}},async editar(t,r,e){try{let o=await s.put(w+`/${t}`,r,a.headers());return e?e(o):o}catch(o){return console.log(o),e?e(n.obtenerMensajeError(o)):n.obtenerMensajeError(o)}}},U={async generarPDF(t=null,r,e,o=null){async function c(i){try{const f=await q.obtenerEvidencias(i),l=await R.obtenerDesarrolladas(i),g=await G.obtenerObservaciones(i);return{evidencias:f.data.evidencias,observaciones:g.data.observaciones,desarrolladas:l.data.actividadesDesarrolladas}}catch(f){console.log(f)}}async function H(){try{return(await I.obtenerInformeActivo()).data}catch(i){console.log(i)}}async function S(i){try{return(await I.obtenerPorId(i)).data}catch(f){console.log(f)}}async function O(){try{const f={Authorization:`Bearer ${z().token}`};return(await s.get("docente/one",{headers:f})).data.docente}catch(i){console.log(i)}}async function F(i,f){let l=[],g=0;for(let d=0;d<i.length;d++)for(let A=0;A<i[d].actividadesEspecificas.length;A++){const j=i[d].actividadesEspecificas[A],h=await c(j._id);let P="",T=[],x=[];for(let u=0;u<h.evidencias.length;u++)u!=0&&(P+=`

`),P+="\u2022 "+h.evidencias[u].nombre;for(let u=0;u<h.desarrolladas.length;u++)u!=0&&(T+=`

`),T+="\u2022 "+h.desarrolladas[u].nombre;for(let u=0;u<h.observaciones.length;u++)h.observaciones[u].enlace?x.push({text:h.observaciones[u].nombre+`

`,link:h.observaciones[u].enlace}):x.push({text:h.observaciones[u].nombre+`

`});l.push([{texto:i[d].nombre,estilo:"bodyTable",rowSpan:i[d].actividadesEspecificas.length},{texto:j.nombre,estilo:"bodyTable"},{texto:j.horas.toString(),estilo:"bodyTable"},{texto:T,estilo:["bodyTable",{alignment:"left"}]},{texto:P,estilo:["bodyTable",{alignment:"left"}]},{texto:x,estilo:["bodyTable",{alignment:"left"}]}]),g+=j.horas}const $=await K.obtenerPorInforme(f);let E="";for(let d=0;d<$.data.length;d++)d!=0&&(E+=`

`),E+=`\u2022 ${$.data[d].nombre}`;return console.log(E),{body:l,horas:g,textConclusion:E}}let y=null;o==null?(console.log("No tiene formato o esta generando un nuevo"),y=await H(),await J.asignarFormato(t,y._id)):(console.log("En un informe de un periodo pasado"),y=await S(o));let p=await O(),{body:D,horas:B,textConclusion:_}=await F(r,t);D.push([{colSpan:3,texto:y.conclusiones,estilo:["headerTable",{color:"black"}]},"","",{colSpan:3,texto:_,estilo:["bodyTable",{alignment:"justify"}]},"",""]),p.horas=B,p.periodo=e,N.formatoPdf(y,D,p)}};const b="/especifica";var V={async obtenerActividadesPorInforme(t,r){try{let e=await s.get(b+`/${t}`,a.headers());return r?r(e):e}catch(e){return console.log(e),r?r(n.obtenerMensajeError(e)):n.obtenerMensajeError(e)}},async eliminarActividad(t,r){try{let e=await s.delete(b+`/${t}`,a.headers());return r?r(e):e}catch(e){return console.log(e),r?r(n.obtenerMensajeError(e)):n.obtenerMensajeError(e)}},async crearActividad(t,r,e,o){try{let c=await s.post(b+`/${t}/${r}`,{actividad:e},a.headers());return o?o(c):c}catch(c){return console.log(c),o?o(n.obtenerMensajeError(c)):n.obtenerMensajeError(c)}},async editarActividad(t,r,e){try{let o=await s.patch(b+`/${t}`,{actividad:r},a.headers());return e?e(o):o}catch(o){return console.log(o),e?e(n.obtenerMensajeError(o)):n.obtenerMensajeError(o)}}};export{q as a,K as c,R as d,V as e,U as g,J as i,G as o};
